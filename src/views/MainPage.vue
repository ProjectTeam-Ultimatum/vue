<template>
  <div>
  <!-- ê¸°ì¡´ ë©”ì¸ ì´ë¯¸ì§€-->
  <!-- <div class="full-screen-background">
  </div> -->
  <div>
    <SlideMainImg class="main-vis" />
  </div>
  <!-- ì˜ì—­ ë‚˜ëˆ„ê¸° -->
  <!-- <div class="divider"></div> -->
  <!-- 1st ì—¬í–‰ ìŠ¤íƒ€ì¼ ì¶”ì²œ -->
  <div class="recommend-style">
    <h3 class="mb-3 main-title-txt">ì—¬í–‰ìŠ¤íƒ€ì¼ ì¶”ì²œ</h3>
    <div class="main-travel-style">
      <div class="main-travel-style-txt" > 
        <div v-if="isValidStyle" style="font-size: 22px;">
          <font-awesome-icon :icon="['fas', 'suitcase-rolling']" style="color:#68C7FF" />
          ë‹¹ì‹ ì˜ ì—¬í–‰ìŠ¤íƒ€ì¼ì€
          <strong style="color: #68C7FF">
            "{{ getMbtiNickname() }}"</strong
          >ì…ë‹ˆë‹¤.
        </div>
      </div>
    </div>
    <RecommendBanner/>
  </div>
  <!-- 2nd ì—¬í–‰ ë©”ì´íŠ¸ ì°¾ê¸° -->
  <div class="chat" style="background-color: #F1F8FF;">
    <div class="recommand-card" style="width:2000px;">
      <div :class="['card horizontal_card', { 'is-hovering': hoverActive }]">
          <div class="card_content">

            <div class="card_front">

                <div class="left_section">
                   ê°™ì€ ì—¬í–‰ ìŠ¤íƒ€ì¼ì˜ <br/> ì¹œêµ¬ë“¤ê³¼ <br/><span style="color:#3ba7ff; font-weight:bold; font-size:30px;"> ë§Œë‚˜ë³´ì„¸ìš”!</span>
                </div>
                <div class="right_section">
                  <img :src="require('@/assets/images/surfing1.jpg')" alt="Report" style="width: 350px; height: 350px; margin-left: 10px;
                   border-top-right-radius: 7px; border-bottom-right-radius: 5px;">
                </div>

            </div>

            <div class="card_back">

                <div class="left_section">
                   ê°„í¸í•˜ê²Œ<br/> ë‚˜ë§Œì˜ ìµœì í™”ëœ<br/>
                   <span style="color:#3ba7ff; font-weight:bold; font-size:30px; letter-spacing : -2px;">ë©”ì´íŠ¸ ì°¾ê¸°<br/></span>
                </div>
                <div class="right_section">
                  <img :src="require('@/assets/images/chat02.jpg')" alt="Report" style="width: 350px; height: 350px; margin-left: 10px;
                   border-top-right-radius: 7px; border-bottom-right-radius: 5px;">
                </div>


            </div>

          </div>
      </div>

      <div class="right-banner">
        <div class="right-header-wrap">
          <p class="right-banner-header" style="letter-spacing : -2px;">ë‚˜ì—ê²Œ ë”± ë§ëŠ” ë©”ì´íŠ¸ ì°¾ê¸°</p>
          <div>
            <router-link to="/chatting">
              <div class="fancy_text" 
                  @mouseover="hoverActive = true" 
                  @mouseleave="hoverActive = false">
                  <span><font-awesome-icon :icon="['far', 'comment-dots']" /></span>ì±„íŒ… í•˜ê¸°
              </div>
            </router-link> 
          </div>
        </div>
        <ul class="right-banner-list">
          <li><em>ğŸ• í•œë¼ì‚° ë“±ë°˜ í¬ë£¨ ëª¨ì§‘ã…£</em> 5ì›” ì—°íœ´ì— í•œë¼ì‚° ë“±ë°˜ í•˜ì‹¤ ë¶„ğŸ˜</li>
          <li><em>ğŸº ì—¬í–‰í•˜ë©´ì„œ ë‚®ìˆ  í•˜ì‹¤ ë¶„ã…£</em> ğŸ˜ì†Œì£¼ ë§¥ì£¼ ë§‰ê±¸ë¦¬ ì™€ì¸ ëª¨ë‘ ê°€ëŠ¥</li>
          <li><em>ğŸƒâ€â™‚ï¸ì˜¬ë ˆê¸¸ 4ì½”ìŠ¤ í•¨ê»˜í•´ìš”ã…£</em> ğŸ˜ì œì¼ ê¸¸ë‹¤ëŠ” 4ì½”ìŠ¤. í•¨ê»˜ í•˜ì‹¤ ë¶„~~ </li>
          <li><em>ğŸšê°™ì´ ë°¥ë¨¹ì„ ì‚¬ëŒã…£</em> ğŸ‘©ğŸ§‘í˜¼ì ì—¬í–‰ì˜´. ê°™ì´ ë°¥ ë¨¹ì–´ìš” </li>
        </ul>

      </div>

    </div>
  </div>
  <!-- 3rd ë‚˜ë§Œì˜ ì—¬í–‰ ì½”ìŠ¤ -->
  <div class="my-travel-course">
    <h3 class="mb-3 main-title-txt">ë‚˜ë§Œì˜ ì—¬í–‰ ì½”ìŠ¤</h3>
    <MyCourse />
  </div>
  <!-- 4th ì—¬í–‰ ì½”ìŠ¤ ì¶”ì²œ -->
  <CarouselBanner />
  <!-- ì—¬í–‰ í›„ê¸° ê²Œì‹œíŒ -->
  <div class="travel-course">
    <h3 class="mb-3 main-title-txt">ì—¬í–‰ í›„ê¸° ëª¨ìŒ</h3>
    <LatestReviews />
  </div>
  <!-- ì œì£¼ë„ë¯¼ í‰ê°€ë‹¨ ëª¨ì§‘ -->
  <div class="travel-course">
    <h3 class="mb-3 main-title-txt">ì œì£¼ë„ë¯¼ í‰ê°€ë‹¨ ëª¨ì§‘</h3>
    <div class="recommand-card">

      <div class="taste-review-banner">
          <div class="banner-content">
              <p>ë‚´ê°€ ê°€ëŠ”ê³³ì´ í•« í”Œë ˆì´ìŠ¤!(ê¾¸ë©°ì•¼í•¨)</p>
              <button class="btn-join">ì§€ê¸ˆ ì‹ ì²­í•˜ê¸°</button>
          </div>
      </div>
    </div>
  </div>
  </div>
</template>

<script>
import LatestReviews from "../components/Review/LatestReviews.vue";
import SlideMainImg from "../components/MainPage/SlideMainImg.vue";
import CarouselBanner from "../components/MainPage/CarouselBanner.vue";
import MyCourse from "../components/MainPage/MyCourse.vue";
import RecommendBanner from "../components/MainPage/RecommendBanner.vue";
// @ is an alias to /src
/* eslint-disable */
export default {
  name: "MainPage",
  components: { 
    LatestReviews,
    SlideMainImg,
    SlideMainImg,
    CarouselBanner,
    MyCourse,
    RecommendBanner
  },
  
  data(){
    return {
      memberStyle: 'ë¡œë”© ì¤‘...', // ì´ˆê¸°ê°’ ì„¤ì •
      mbtiNicknames: { // MBTI ë³„ëª… ë§¤í•‘
        "ISFJ": "ì—¬í–‰í•œì • ì¸ì‹¸",
        "INFJ": "ê°ì„± ì—¬í–‰ì",
        "INTJ": "íš¨ìœ¨ ê³„íšëŸ¬",
        "ISTJ": "í”„ë¡œ ì—‘ì…€ëŸ¬",
        "ISFP": "íë§ ì—¬í–‰ëŸ¬",
        "INFP": "ë¡œë§¨í‹± ì—¬í–‰íŒŒ",
        "INTP": "í•œì  ìŠ¤íŒŸëŸ¬",
        "ISTP": "í”„ë¡œ í˜¼í–‰ëŸ¬",
        "ESFJ": "í”„ë¡œ í•«ìŠ¤íŒŸëŸ¬",
        "ENFJ": "í”„ë¡œ ì—¬í–‰ëŸ¬",
        "ENTJ": "íš¨ìœ¨ ë¡œë³´íŠ¸",
        "ESTJ": "ì—‘ì…€ ë§ˆìŠ¤í„°",
        "ESFP": "ì—¬í–‰ ì¦‰í¥ë¡ ì",
        "ENFP": "ì—¬í–‰ ë¬´ê³„íšëŸ¬",
        "ENTP": "ìœ„ê¸°íƒˆì¶œ ë„˜ë²„ì›",
        "ESTP": "í”„ë¡œ í”Œë ‰ì„œ"
      },
      hoverActive: false, // hover ìƒíƒœë¥¼ ì¶”ì í•˜ëŠ” ë°ì´í„°
    };
  },

  computed: {
    isValidStyle() {
      // MBTI ìŠ¤íƒ€ì¼ ë¬¸ìì—´ì˜ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ì•ˆì „í•˜ê²Œ ìˆ˜í–‰
      return Object.prototype.hasOwnProperty.call(this.mbtiNicknames, this.memberStyle);
    }
  },

  mounted() {
    this.fetchUserInfo();
  },

  methods: {
    async fetchUserInfo() {
      try {
        const response = await this.$axios.get("/api/v1/user/info/detail");
        this.$store.commit("auth/SET_USER_NAME", response.data.userName);
        this.$store.commit("auth/SET_USER_IMAGE", response.data.images);
        this.memberStyle = response.data.memberStyle; // ìŠ¤íƒ€ì¼ ì •ë³´ë¥¼ ë¡œì»¬ ë°ì´í„°ì— ì €ì¥
        console.log("API response:", response.data); // API ì‘ë‹µ ë¡œê¹…
      } catch (error) {
        console.error("ì¸ì¦ëœ ì‚¬ìš©ìê°€ ì•„ë‹™ë‹ˆë‹¤. : ", error);
        this.memberStyle = 'ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤'; // ì—ëŸ¬ ì²˜ë¦¬ ì¶”ê°€
      }
    },
    getMbtiNickname() {
      return this.mbtiNicknames[this.memberStyle] || 'ì•Œ ìˆ˜ ì—†ëŠ” ìŠ¤íƒ€ì¼';
    },
  },
};
</script>
<style scoped>
@import "@/assets/css/mainpage_style.css";

/* chat ìŠ¤íƒ€ì¼ */
/* ê³µí†µ ìŠ¤íƒ€ì¼ */
.card {
  position:relative;
  width: 150px;
  height: 350px;
  margin: 20px;
  perspective: 900px;
  border: 10px;
  margin-right: 60px;
} 
.card .card_content {
  position: absolute;
  width: 100%;
  height: 100%;
  /* box-shadow: 0 0 15px rgba(0, 0, 0, 0.1); */
  border-radius: 10px; transition: transform 1s;
  transform-style: preserve-3d;
} 

.left_section,
.right_section {
    flex: 1; /* ë‘ ì„¹ì…˜ì´ ë™ì¼í•œ ë„ˆë¹„ë¥¼ ê°–ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤ */
    letter-spacing : -2px;
}

.left_section{
  padding-left: 10px;
  padding-right: 10px;
}

.right_section {
    border-right: none; /* ì˜¤ë¥¸ìª½ ì„¹ì…˜ì˜ ê²½ê³„ì„ ì„ ì œê±°í•©ë‹ˆë‹¤ */
}

.card:hover .card_content {
  transition: transform 0.5s;
} 

.card .card_front,.card .card_back {
  display: flex;
  justify-content: center;
  align-items: center;
  position: absolute;
  width: 100%;
  height: 100%;
  background: #3ba7ff3a;
  border-radius: 10px;
  font-size: 20px;
  color: #3ba7ff;
  text-align: center;
  backface-visibility: hidden;
} 

.card .card_back {
  background: #ffd23f38;
  color: #3ba7ff;
} 

/* ê°€ë¡œë¡œ ë’¤ì§‘íˆëŠ” ì¹´ë“œ */
.horizontal_card:hover .card_content {
  transform: rotateY(180deg);
} 

.horizontal_card .card_back {
  transform: rotateY(180deg);
} 

.horizontal_card.is-hovering .card_content {
  transform: rotateY(180deg);
}

.right-banner{
  display: flex;
  flex-direction: column; /* ìì‹ ìš”ì†Œë“¤ì„ ì„¸ë¡œë¡œ ë°°ì¹˜ */
  text-align: start;
  padding-top: 20px;
}

.right-banner-header{
  font-size:1.8em;
  font-weight: bold;
  padding-top: 30px;
  padding-bottom: 20px;
}

.right-banner-subtitle{
  font-size:22px;
  font-weight: 400;
  margin-bottom: 15px;
}

.fancy_text {
    font-size: 19px; /* í…ìŠ¤íŠ¸ í¬ê¸° */
    color: #ffffff; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
    background: linear-gradient(45deg, #abd9ff, #3ba7ff); /* ë°°ê²½ ê·¸ë¼ë””ì–¸íŠ¸ */
    padding: 10px 20px; /* ë‚´ë¶€ ì—¬ë°± */
    border-radius: 8px; /* ë‘¥ê·¼ í…Œë‘ë¦¬ */
    text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.4); /* í…ìŠ¤íŠ¸ ê·¸ë¦¼ì */
    font-weight: bold; /* ê¸€ì êµµê¸° */
    display: inline-block; /* ì˜¬ë°”ë¥¸ íŒ¨ë”©ê³¼ ë°°ê²½ì„ ìœ„í•´ */
    transition: all 0.3s ease; /* ë¶€ë“œëŸ¬ìš´ ì „í™˜ íš¨ê³¼ */
    width: 145px;
    height: 45px;
}

.fancy_text:hover {
    transform: scale(1.1); /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ í…ìŠ¤íŠ¸ í™•ëŒ€ */
    cursor: pointer; /* ë§ˆìš°ìŠ¤ ì»¤ì„œ ëª¨ì–‘ ë³€ê²½ */
    background: linear-gradient(45deg, #ffd772, #fdc12a); /* ë°°ê²½ ê·¸ë¼ë””ì–¸íŠ¸ */
}

.taste-review-banner {
    background-image: url('@/assets/images/orange.jpg'); /* ë°°ê²½ ì´ë¯¸ì§€ ì„¤ì • */
    background-size: cover; /* ë°°ê²½ ì´ë¯¸ì§€ë¥¼ ë°°ë„ˆ í¬ê¸°ì— ë§ê²Œ ì¡°ì • */
    text-align: center; /* í…ìŠ¤íŠ¸ ì¤‘ì•™ ì •ë ¬ */
    color: white; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
    padding: 50px 20px; /* ìƒí•˜, ì¢Œìš° íŒ¨ë”© ì„¤ì • */
    width: 100%;
}

.banner-content {
    max-width: 600px; /* ìµœëŒ€ ë„ˆë¹„ ì„¤ì • */
    margin: 0 auto; /* ê°€ìš´ë° ì •ë ¬ */
    background: rgba(0, 0, 0, 0.5); /* ë°˜íˆ¬ëª… ë°°ê²½ ì¶”ê°€ */
    padding: 20px; /* ë‚´ë¶€ ì—¬ë°± */
    border-radius: 10px; /* í…Œë‘ë¦¬ ë‘¥ê¸€ê²Œ */
}

.banner-content h1 {
    margin-bottom: 20px; /* ì œëª©ê³¼ ë‚´ìš© ì‚¬ì´ì˜ ì—¬ë°± */
    font-size: 36px; /* ì œëª© ê¸€ì í¬ê¸° */
}

.banner-content p {
    font-size: 18px; /* ë³¸ë¬¸ ê¸€ì í¬ê¸° */
    margin-bottom: 30px; /* ë³¸ë¬¸ê³¼ ë²„íŠ¼ ì‚¬ì´ì˜ ì—¬ë°± */
}

.btn-join {
    font-size: 20px; /* ë²„íŠ¼ ê¸€ì í¬ê¸° */
    padding: 10px 20px; /* ë²„íŠ¼ íŒ¨ë”© */
    background-color: #f76c6c; /* ë²„íŠ¼ ë°°ê²½ ìƒ‰ìƒ */
    color: white; /* ë²„íŠ¼ ê¸€ì ìƒ‰ìƒ */
    border: none; /* í…Œë‘ë¦¬ ì œê±° */
    border-radius: 5px; /* ë²„íŠ¼ í…Œë‘ë¦¬ ë‘¥ê¸€ê²Œ */
    cursor: pointer; /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ì»¤ì„œ ë³€ê²½ */
    transition: background-color 0.3s; /* ìƒ‰ìƒ ë³€í™” ì• ë‹ˆë©”ì´ì…˜ */
}

.btn-join:hover {
    background-color: #fa8072; /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ë²„íŠ¼ ìƒ‰ìƒ ë³€ê²½ */
}

/* chat */

.right-header-wrap{
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
}

.right-banner-list {
  list-style: none; 
  padding: 0;
  margin: 0; 
}

.right-banner-list li {
  padding: 10px;
  margin-bottom: 10px; /* Adds space between list items */
  font-size: 1.2em; /* Sets the font size smaller than the default */
  line-height: 1.5; /* Sets the line height for readability */
  letter-spacing : -2px;
  border-bottom: 1px solid #e1e1e1;
}

.right-banner-list li em {
  font-style: normal; /* Overrides the default italic style of <em> */
  font-weight: bold; /* Makes the text bold */
  color: #0D6EFD; /* Sets the color of the text; replace with the actual color you want */
}

</style>
